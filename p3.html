<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>MyPortfolio Bootstrap Template - Contact</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=https://fonts.googleapis.com/css?family=Inconsolata:400,500,600,700|Raleway:400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: MyPortfolio
  * Updated: May 30 2023 with Bootstrap v5.3.0
  * Template URL: https://bootstrapmade.com/myportfolio-bootstrap-portfolio-website-template/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <div class="container">
    <div class="headp">
      <div class="row align-items-center">
        <div class="col-12 camerasvg" data-aos="fade-up">
         <header>Chamber of deputies</header>
        </div> 
        </div>
      </div>
      </div>
  
    <nav class="navbar">
      <ul class="navbar-nav">
        <li class="nav-item"><a href="index.html" class="nav-link">I</a></li>
        <li class="nav-item"><a href="p1.html" class="nav-link">II</a></li>
        <li class="nav-item"><a href="p2.html" class="nav-link">III</a></li>
        <li class="nav-item"><a href="p3.html" class="nav-link">IV</a></li>
        <li class="nav-item"><a href="p4.html" class="nav-link">VI</a></li>
        <li class="nav-item"><a href="p5.html" class="nav-link">VII</a></li>
      </ul>
    </nav>
    
    <div class="page">
      <div class="row">
        <div class="col-4 article2">
          <div class="titleart"><h7 class="titleart">Titolo articolo</h7></div>
            <img src="./assets/img/chigi.jpeg"   alt="Descrizione dell'immagine" >
            <figcaption>Didascalia dell'immagine</figcaption>
            <p>It’s hypothesis-driven analysis. 
              The designer has a question to 
              answer, and a hypothesis and wants 
              to demonstrate. The validation 
              consists of the visual evidence 
              of a trend, a behaviour, or a
               relationship. Outcomes of data 
               analysis/discovery techniques 
               fall into two categories: 
               expected/unexpected; 
               positive/negative. Unexpected 
               negative results are the most 
               insightful patterns to support 
               decision-making.
               It’s hypothesis-driven analysis. 
               The designer has a question to 
               answer, and a hypothesis and wants 
               to demonstrate. The validation 
               consists of the visual evidence 
               of a trend, a behaviour, or a
                relationship. Outcomes of data 
                analysis/discovery techniques 
                fall into two categories: 
                expected/unexpected; 
                positive/negative. Unexpected 
                negative results are the most 
                insightful patterns to support 
                decision-making.</p>
      </div>
      <div class="col-8 chart" data-aos="fade-up">
        <div id="map"></div>      
      </div>
    
      </div>
    </div>
  
  





  <!-- Vendor JS Files -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

 <!-- mappa uomini -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
 <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
 <script>
 $(document).ready(function () {
   // Creazione della mappa
   var map = L.map('map').setView([41.9, 12.6], 5);
 
   // Aggiunta del tile layer
   L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
     attribution: 'Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',
     maxZoom: 18
   }).addTo(map);
 
   // Array dei dati con coordinate e conteggio
   var dati = [
  { coordinates: [7.136047709794425, 45.27996084629203], count: 544 },
  { coordinates: [7.136014313950868, 45.28039687678416], count: 352 },
  { coordinates: [7.135847025122491, 45.28122226315353], count: 346 },
  { coordinates: [6.626621368537682, 35.493691935511414], count: 388 },
  { coordinates: [18.520381599098922, 47.09178374646217], count: 135 },
  { coordinates: [10.626621368537682, 40.493691935511414], count: 369 },
  { coordinates: [9.520381599098922, 42.09178374646217], count: 657 },
  { coordinates: [12.626621368537682, 37.493691935511414], count: 495 },
  { coordinates: [13.520381599098922, 44.09178374646217], count: 135 },
  { coordinates: [11.626621368537682, 43.493691935511414], count: 328 },
  { coordinates: [8.520381599098922, 39.09178374646217], count: 224 },
  { coordinates: [10.626621368537682, 41.493691935511414], count: 438 },
  { coordinates: [9.520381599098922, 36.09178374646217], count: 76 },
  { coordinates: [13.626621368537682, 45.493691935511414], count: 113 },
  { coordinates: [16.520381599098922, 40.09178374646217], count: 79 },
  { coordinates: [12.626621368537682, 43.493691935511414], count: 73 },
  { coordinates: [14.520381599098922, 42.09178374646217], count: 141 },
  { coordinates: [9.626621368537682, 40.493691935511414], count: 160 },
  { coordinates: [11.520381599098922, 41.09178374646217], count: 40 },
  { coordinates: [7.626621368537682, 45.493691935511414], count: 14 }
];

 
   // Caricamento del file regioni.geojson
   $.getJSON('regioni.geojson', function (data) {
     // Creazione della mappa choropleth
     L.geoJSON(data, {
       style: function (feature) {
         var coordinates = feature.geometry.coordinates[0];
         var count = getCountByCoordinates(coordinates);
         var color = getColor(count);
         return {
           fillColor: color,
           weight: 2,
           opacity: 1,
           color: 'white',
           dashArray: '3',
           fillOpacity: 0.7
         };
       }
     }).addTo(map);
   });
 
   // Funzione per ottenere il conteggio in base alle coordinate
   function getCountByCoordinates(coordinates) {
     var coordinateKey = coordinates.toString();
     var matchingData = dati.find(function (data) {
       return data.coordinates.toString() === coordinateKey;
     });
     return matchingData ? matchingData.count : 0;
   }
 
   // Funzione per ottenere il colore in base al conteggio
   function getColor(d) {
     return d > 600 ? '#800026' :
            d > 500 ? '#BD0026' :
            d > 400 ? '#E31A1C' :
            d > 300 ? '#FC4E2A' :
            d > 200 ? '#FD8D3C' :
            d > 100 ? '#FEB24C' :
                      '#FED976';
   }


   function getCountByCoordinates(coordinates) {
  var matchingData = dati.find(function (data) {
    return areCoordinatesEqual(data.coordinates, coordinates);
  });
  return matchingData ? matchingData.count : 0;
}

// Funzione per confrontare due insiemi di coordinate
function areCoordinatesEqual(coordinates1, coordinates2) {
  if (coordinates1.length !== coordinates2.length) {
    return false;
  }

  for (var i = 0; i < coordinates1.length; i++) {
    var coordinate1 = coordinates1[i];
    var coordinate2 = coordinates2[i];

    if (coordinate1.length !== coordinate2.length) {
      return false;
    }

    for (var j = 0; j < coordinate1.length; j++) {
      if (coordinate1[j] !== coordinate2[j]) {
        return false;
      }
    }
  }

  return true;
}
 });



 </script>
 

</body>

</html>