<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
  
    <title>Chamber of deputies</title>
    <meta content="" name="description">
    <meta content="" name="keywords">
  
    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">
  
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=https://fonts.googleapis.com/css?family=Inconsolata:400,500,600,700|Raleway:400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
  
    <!-- Vendor CSS Files -->
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  </head>
  
  <body>
    
    <div class="container">
      <div class="headp">
        <div class="row align-items-center">
          <div class="col-12 camerasvg" data-aos="fade-up">
           <header>Chamber of deputies</header>
          </div> 
          </div>
        </div>
      </div>



      <nav class="navbar">
        <ul class="navbar-nav">
          <li class="nav-item"><a href="index.html" class="nav-link">Front page</a></li>
          <li class="nav-item"><a href="p1.html" class="nav-link">I</a></li>
          <li class="nav-item"><a href="p2.html" class="nav-link">II</a></li>
          <li class="nav-item"><a href="p3.html" class="nav-link">III</a></li>
          <li class="nav-item"><a href="p4.html" class="nav-link">IV</a></li>
          <li class="nav-item"><a href="p5.html" class="nav-link">V</a></li>
          <li class="nav-item"><a href="p6.html" class="nav-link">VI</a></li>
          <li class="nav-item"><a href="p7.html" class="nav-link">VII</a></li>
          <li class="nav-item"><a href="p8.html" class="nav-link">VIII</a></li>
          <li class="nav-item"><a href="p9.html" class="nav-link">IX</a></li>
  
  
        </ul>
      </nav>

      <div class="page">
        <div class="row">
          <div class="col-12 pyrchart">
            <select id="spettroPoliticoFilter">
              <option value="Tutti">Tutti</option>
              <option value="Estrema-sinistra">Estrema sinistra</option>
              <option value="Sinistra">Sinistra</option>
              <option value="Centro-sinistra">Centro-sinistra</option>
              <option value="Centro">Centro</option>
              <option value="Centro-destra">Centro-destra</option>
              <option value="Destra">Destra</option>
              <option value="Trasversalismo">Trasversalismo</option>


              <!-- Aggiungi altre opzioni per gli altri spettri politici -->
            </select>
            <canvas id="pyramidChart"></canvas>         
        </div>
      </div>    

      <div class="row">
        <div class="col-12">
            <div id="chartbubble"></div>
        </div>
    </div>
    <footer class="footer" role="contentinfo">
      <div class="container">
        <div class="row">
          <div class="col-sm-6">
            <p class="mb-1">&copy; Copyright The Champer of Deputies. All Rights Reserved</p>
            <div class="credits">
              <!--
              All the links in the footer should remain intact.
              You can delete the links only if you purchased the pro version.
              Licensing information: https://bootstrapmade.com/license/
              Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/buy/?theme=MyPortfolio
            -->
              Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
            </div>
          </div>
        </div>
      </div>
    </footer>
  </div>


      <script src="assets/vendor/aos/aos.js"></script>
      <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
      <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
      <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
      <script src="assets/vendor/php-email-form/validate.js"></script>
    
 
    
      <!-- Template Main JS File -->
      <script src="assets/js/main.js"></script>
    
      <script src="https://www.gstatic.com/charts/loader.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
    var spettroPolitico = {
    'PARTITO COMUNISTA ITALIANO': 'Estrema-sinistra',
    'DEMOCRAZIA PROLETARIA': 'Estrema-sinistra',
    'PARTITO DI UNITÀ PROLETARIA PER IL COMUNISMO': 'Estrema-sinistra',
    'PARTITO DELLA RIFONDAZIONE COMUNISTA - SINISTRA EUROPEA': 'Sinistra',
    'SINISTRA INDIPENDENTE': 'Sinistra',
    'PARTITO DEI COMUNISTI ITALIANI': 'Sinistra',
    'SINISTRA ECOLOGIA LIBERTÀ': 'Sinistra',
    'ROSA NEL PUGNO': 'Centro-sinistra',
    'PARTITO SOCIALISTA ITALIANO': 'Centro-sinistra',
    'L\'ULIVO': 'Centro-sinistra',
    'PARTITO DEMOCRATICO DELLA SINISTRA': 'Centro-sinistra',
    'ITALIA DEI VALORI': 'Centro-sinistra',
    'LIBERI E UGUALI': 'Sinistra',
    'POPOLARI UDEUR': 'Centro-sinistra',
    'FORZA ITALIA': 'Centro-destra',
    'IL POPOLO DELLA LIBERTÀ': 'Centro-destra',
    'ALLEANZA NAZIONALE': 'Centro-destra',
    'FUTURO E LIBERTÀ PER L\'ITALIA': 'Centro-destra',
    'POPOLO E TERRITORIO': 'Centro',
    'CENTRO DEMOCRATICO': 'Centro',
    'PARTITO RADICALE': 'Centro',
    'MISTO': 'Centro',
    'PARTITO SOCIALISTA DEMOCRATICO ITALIANO': 'Centro-sinistra',
    'FEDERAZIONE DEI VERDI': 'Centro-sinistra',
    'PARTITO REPUBBLICANO ITALIANO': 'Centro-destra',
    'CENTRO CRISTIANO DEMOCRATICO': 'Centro-destra',
    'ITALIA VIVA': 'Centro',
    'UNIONE DI CENTRO (2002)': 'Centro',
    'CORAGGIO ITALIA': 'Centro-destra',
    'NUOVO CENTRODESTRA': 'Centro-destra',
    'RINNOVAMENTO ITALIANO': 'Centro-destra',
    'PARTITO SOCIALISTA ITALIANO DI UNITÀ PROLETARIA': 'Sinistra',
    'DEMOCRAZIA CRISTIANA': 'Centro-destra',
    'PARTITO POPOLARE ITALIANO': 'Centro-destra',
    'DEMOCRAZIA NAZIONALE - COSTITUENTE DI DESTRA': 'Centro-destra',
    'LEGA NORD': 'Centro-destra',
    'PARTITO NAZIONALE MONARCHICO': 'Destra',
    'MOVIMENTO SOCIALE ITALIANO - DESTRA NAZIONALE': 'Destra',
    'FRONTE DELL\'UOMO QUALUNQUE': 'Destra'
};

var data = {
  labels: [
    'PARTITO COMUNISTA ITALIANO',
    'DEMOCRAZIA PROLETARIA',
    'PARTITO DI UNITÀ PROLETARIA PER IL COMUNISMO',
    'PARTITO DELLA RIFONDAZIONE COMUNISTA - SINISTRA EUROPEA',
    'SINISTRA INDIPENDENTE',
    'PARTITO DEI COMUNISTI ITALIANI',
    'SINISTRA ECOLOGIA LIBERTÀ',
    'ROSA NEL PUGNO',
    'PARTITO SOCIALISTA ITALIANO',
    'L\'ULIVO',
    'PARTITO DEMOCRATICO DELLA SINISTRA',
    'ITALIA DEI VALORI',
    'LIBERI E UGUALI',
    'POPOLARI UDEUR',
    'FORZA ITALIA',
    'IL POPOLO DELLA LIBERTÀ',
    'ALLEANZA NAZIONALE',
    'FUTURO E LIBERTÀ PER L\'ITALIA',
    'POPOLO E TERRITORIO',
    'CENTRO DEMOCRATICO',
    'PARTITO RADICALE',
    'MISTO',
    'PARTITO SOCIALISTA DEMOCRATICO ITALIANO',
    'FEDERAZIONE DEI VERDI',
    'PARTITO REPUBBLICANO ITALIANO',
    'CENTRO CRISTIANO DEMOCRATICO',
    'ITALIA VIVA',
    'UNIONE DI CENTRO (2002)',
    'CORAGGIO ITALIA',
    'NUOVO CENTRODESTRA',
    'RINNOVAMENTO ITALIANO',
    'PARTITO SOCIALISTA ITALIANO DI UNITÀ PROLETARIA',
    'DEMOCRAZIA CRISTIANA',
    'PARTITO POPOLARE ITALIANO',
    'DEMOCRAZIA NAZIONALE - COSTITUENTE DI DESTRA',
    'LEGA NORD',
    'PARTITO NAZIONALE MONARCHICO',
    'MOVIMENTO SOCIALE ITALIANO - DESTRA NAZIONALE',
    'FRONTE DELL\'UOMO QUALUNQUE'
],
    datasets: [{
        label: 'Maschi',
        data: [
            -179, -832, -55, -1032, -1054, -551, -49, -412, -20, -123, -15, -6, -23, -17, -223, -545, -323,
            -262, -683, -33, -29, -135, -132, -42, -152, -15, -391, -444, -34, -43, -45, -247, -101, -37, -64,
            -39, -6, -13, -10, -23, -36, -86, -22, -134, -8, -3, -11, -12, -2, -197, -99, -7, -5, -18
        ],
        backgroundColor: 'rgba(75, 192, 192, 0.5)',
        stack: 'stack 0',

    }, {
        label: "Femmine",
        data: [
            44, 2, 17, 5, 182, 3, 15, 1, 151, 3, 1, 7, 1, 1, 21, 1, 3, 1, 3, 10, 9, 10, 36, 10,
            11, 12, 323, 41, 124, 23, 99, 7, 5, 18, 5, 41, 3, 27, 8, 15, 4, 1, 3, 8, 2, 13, 23, 2
        ],
        backgroundColor: 'rgba(255, 99, 132, 0.5)',
        stack: 'stack 0'
    }]
};

// Opzioni del grafico
var options = {
    responsive: true,
    maintainAspectRatio: false,
    indexAxis: 'y', // Inverte l'asse Y
    scales: {
        x: {
            stacked: true,
            ticks: {
                callback: function(value, index, values) {
                    return Math.abs(value); // Rimuovi il segno "-" dalle etichette dell'asse x
                }
            }
        },
        y: {
            stacked: true,
            ticks: {
                reverse: true,
                maxRotation: 0, // Mostra tutti i nomi dei partiti sull'asse Y
                autoSkip: false // Disabilita l'auto-salto dei tick sull'asse Y
            }
        }
    },
    plugins: {
        tooltip: {
            callbacks: {
                label: function(context) {
                    var datasetLabel = context.dataset.label || '';
                    var value = Math.abs(context.raw);

                    if (datasetLabel) {
                        datasetLabel += ': ';
                    }

                    var spettro = spettroPolitico[context.label];

                    return datasetLabel + value + ' (' + spettro + ')';
                }
            }
        }
    }
};

document.getElementById('spettroPoliticoFilter').addEventListener('change', function() {
  var selectedSpectrum = this.value;

  // Filtra i dati in base allo spettro politico selezionato
  var filteredData = data.labels.reduce(function(filtered, label, index) {
    if (selectedSpectrum === 'Tutti' || spettroPolitico[label] === selectedSpectrum) {
      filtered.labels.push(label);
      filtered.datasets[0].data.push(data.datasets[0].data[index]);
      filtered.datasets[1].data.push(data.datasets[1].data[index]);
    }
    return filtered;
  }, { labels: [], datasets: [{}, {}] });

  // Aggiorna il grafico con i dati filtrati
  var ctx = document.getElementById('pyramidChart').getContext('2d');
  var chart = new Chart(ctx, {
    type: 'bar',
    data: filteredData,
    options: options
  });
});
</script>

  </body>
</html>


